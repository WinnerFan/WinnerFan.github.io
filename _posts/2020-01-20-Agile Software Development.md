---
layout: post
title: Agile Software Development
tags: Programming
---

## 原则

### 单一职责(SRP)

改变的原因为职责，**总是同时变化则不必分离**

- Rectangle类draw()和area()违反。第一个绘制，第二个提供数学模型
- 调制解调器接口第一个连接管理，第二个数据通信
- 业务规则(多变)和持久化(稳定)不应混合

### 开放-封闭原则(OCP)

扩展开放(需求改变)，更改封闭(不必更改源代码或二进制代码)。抽象类，模块依赖固定的抽象类，更改关闭；抽象类派生，扩展模块
```
Animal a = animal; // Dog Cat
```

### 里氏替换原则(LSP)

任何基类出现的地方，子类一定可以出现
- 利用if else显式确定对象类型，必须知道基类所有子类，每次还需要增加if else
- Square继承Rectangle类重新方法后，Square编写违反了Rectangle的不变性，Square对象行为方式和g函数的Rectangle**对象行为方式**不同，**IS-A关系是就行为方式而言的**
```
void g(Rectangle r){
	r.setWidth(5);
	r.setHight(4);
	assert(r.Area() == 20);
}
```
- **提取公共部分**替换继承
- 基类代码被子类空函数覆盖，违规

### 依赖倒置原则(DIP)

高层模块**不**应依赖底层模块，两者依赖抽象；抽象**不**应依赖细节，细节应依赖抽象

- Policy Mechanism Utility，Policy对于其下直到Utility改动敏感；**高层使用接口，低层实现接口**；接口所有权倒置，客户端拥有接口，服务端实现接口
- 依赖于抽象：变量不应该持有具体类引用，任何类不应该从具体类派生，任何方法不应覆盖基类已经实现方法

### 接口隔离原则(ISP)

定时关门，Door接口被一个它不需要的isTimeOut方法污染了，每次子类需要新方法，基类会变得更胖，不应该强迫客户依赖于他们不用的方法

- 使用委托分离接口，创建对象实现Timer接口，将对象赋给已经实现Door接口的TimedDoor
- 多重实现接口，**优先**